#!/bin/bash

function press_any_key {
    echo -n "Press any key to continue..."
    # read one character of input and discard it
    read -n 1 -s -r
    echo ""
}

if ! command -v curl &> /dev/null; then
    echo "curl is not installed. Please install curl and try again."
    echo "For Debian/Ubuntu users: sudo apt-get install curl"
    echo "For Red Hat/CentOS users: sudo yum install curl"
    press_any_key
    exit 1
fi

# Array with directory names
directories=("inc" "src" "MDK-ARM")

# URLs for files
#    https://raw.githubusercontent.com/STMicroelectronics/cmsis_device_f0/master/Source/Templates/system_stm32f0xx.c
#    https://raw.githubusercontent.com/STMicroelectronics/cmsis_device_f0/master/Source/Templates/gcc/startup_stm32f030x6.s
#    https://raw.githubusercontent.com/STMicroelectronics/cmsis_device_f0/master/Source/Templates/arm/startup_stm32f030x6.s
#
#    https://raw.githubusercontent.com/STMicroelectronics/cmsis_device_f0/master/Include/system_stm32f0xx.h
#    https://raw.githubusercontent.com/STMicroelectronics/cmsis_device_f0/master/Include/stm32f0xx.h
#    https://raw.githubusercontent.com/STMicroelectronics/cmsis_device_f0/master/Include/stm32f030x6.h
#
#               https://github.com/ARM-software/CMSIS_6/tree/main/CMSIS/Core/Include
#
#    https://raw.githubusercontent.com/ARM-software/CMSIS_6/main/CMSIS/Core/Include/cmsis_compiler.h
#    https://raw.githubusercontent.com/ARM-software/CMSIS_6/main/CMSIS/Core/Include/cmsis_armclang.h
#    https://raw.githubusercontent.com/ARM-software/CMSIS_6/main/CMSIS/Core/Include/cmsis_gcc.h
#    https://raw.githubusercontent.com/ARM-software/CMSIS_6/main/CMSIS/Core/Include/cmsis_iccarm.h
#    https://raw.githubusercontent.com/ARM-software/CMSIS_6/main/CMSIS/Core/Include/cmsis_version.h
#    https://raw.githubusercontent.com/ARM-software/CMSIS_6/main/CMSIS/Core/Include/core_cm0.h
#    https://raw.githubusercontent.com/ARM-software/CMSIS_6/main/CMSIS/Core/Include/cmsis_armcc.h
#
#    https://raw.githubusercontent.com/posborne/cmsis-svd/master/data/STMicro/STM32F030.svd
#    https://raw.githubusercontent.com/posborne/cmsis-svd/master/data/STMicro/STM32F031x.svd

fname1=("system_stm32f0xx.c" "startup_stm32f030x6.s")
fname2=("system_stm32f0xx.h" "stm32f0xx.h" "stm32f030x6.h")
fname3=("cmsis_compiler.h" "cmsis_armclang.h" "cmsis_gcc.h" "cmsis_iccarm.h" "cmsis_version.h" "core_cm0.h" "cmsis_armcc.h")

raw_github="https://raw.githubusercontent.com/"

url1="${raw_github}STMicroelectronics/cmsis_device_f0/master"
url2="${raw_github}ARM-software/CMSIS_6/main/CMSIS/Core/Include/"
url3="${raw_github}posborne/cmsis-svd/master/data/STMicro/STM32F031x.svd"

op_counter=0

# Function to check for the existence of a directory and create it if it doesn't exist
create_directory() {
  if [ ! -d "$1" ]; then
    mkdir "$1"
    op_counter=$(expr $op_counter + 1)
    echo "Directory $1 created."
  fi
}


# Function to check for the existence of a file and create it if it doesn't exist
create_file() {
  if [ ! -f "$1" ]; then
    echo "$2" | base64 -d | tar xjf -
    op_counter=$(expr $op_counter + 1)
    echo "File $1 created."
  fi
}


# Function to check if a file exists and download it if it doesn't
download_file() {
  if [ ! -f "$2" ]; then
    curl -s "$1" | tr -cd '\11\12\15\40-\176' > "$2"
    op_counter=$(expr $op_counter + 1)
    echo "File $2 downloaded."
  fi
}


# Create directories
for dir in "${directories[@]}"
do
  create_directory "$dir"
done

download_file "${url1}/Source/Templates/${fname1[0]}" "${directories[1]}/${fname1[0]}"
download_file "${url1}/Source/Templates/gcc/${fname1[1]}" "${directories[1]}/${fname1[1]}"
download_file "${url1}/Source/Templates/arm/${fname1[1]}" "${directories[2]}/${fname1[1]}"
download_file "${url3}" "STM32F031x.svd"

# Download files
for filename in "${fname2[@]}"
do
  download_file "${url1}/Include/${filename}" "${directories[0]}/${filename}"
done

for filename in "${fname3[@]}"
do
  download_file "${url2}${filename}" "${directories[0]}/${filename}"
done

create_file "Makefile" "`cat << EOF
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
EOF`"

create_file "stm32f030x6_flash.ld" "`cat << EOF
QlpoOTFBWSZTWXgpltoABtnfgf+SQP3/2y/v3yD/7//6AAgACFAFnuGOWdHc47YOTrrXTCSSGTTU
ZMVPyo9I9T9U9QaNqeoA00ZAM0g9QAJRNExGSp6myR5R6QYEwAExHqGhgAgwkRIJ6iI8o9TaTRo2
k0NPUaaaA9QyekNDQMQcAwjCaYhgEAyAGEaZMmEYCGgkUT1ATCaZNSn4qA9TQyAMAjJoaAeoH6p5
9OvqYkboEhYGzSQ+j5+3ZFLGMSGAnJpjBAZAEB1cGiGt1y9nbZZEPXHSCLXI5Yyr6ogngpG8sTFg
wFGJsiEQ24ggsVycsoS5E5bboREqXElAoL1e7FWohJVYJc7EhCvEjCxC6YwkiE3CiAScDRyc9vyX
EaUvWLeGGPEtpsXWH0dP2/G6pPrm4aJ5r2ZNPPBqCNtWc40BGxKWGVT0q82mVGkyfZr0XFoykmZ4
0TGVw7qFIKHOZJFoKvBcm9OXpND9Zh9IbWpA4yGTXixjIm7bTbuDHEiQy39+pc5c2ClpK0c8MuSv
pfBoZ45tKKFha4h6C6sMBOwVWXHfOkJvIkaNAoPlVos4Vy1sirQcqi5EZr7mI1WUX5rdEc9ldPVX
cLskHeZQF0MG5gbFnBPQywFN9demtbYJydHTOXt8MkTXebwVt/ltCViZfxK9csGvKiJgIWg2mCVb
iKe9tG6MYNDMN9JVd7yZWgDz+is7zOkBuPpaR3ExZXEkoOsNuzcebCUttIiBslOWEuGN6OiZdIbz
TMt5kkubVq1Y5m/T/mQOsFrHcMiI2KUH7QbA/Pf+tj1FhGeDlsfFzSUVQluPs1S6N5b9phoX7dxm
ESk1JTlCsLS6Mp0zacrGqWUROlTCKmwmsqGs5XJpCiNBOhqEkHkZI7u/XMC8wH1pFqQp91vRND3b
xMxUJhed1DFPSBXMKRwyAmFA+YGTlIS5B0kLgc0E/YL+gMzAF3FV9Xb8PgAx7kKDYExouaaLtOfH
jmDFqbwUTG6udVNxqTuAqAxAjPY3zJMyvGL0gSWtHP2sdK0Kg0CljxKNDhZCLgLS47xkFp0mte3q
+jdD527AYxRyNsbbTeIpgbe1bPBnoeG3m5SYJ4tqtJKUuKI9yzpRQwzJI53HqRkFRMI77WwnpRDL
MhKEin2QjOtCKK/JYSEvXMZgi9TQ4pytm2TneQQXnry/zlFheJsklyBkwWcARMWUwkyMscYwgIiR
KQ23XIRMK65b9K1JHDqUrNuj8aJdbaqnQwimXGg1ggg2GVmxy0oYjcQSKx02h4OOtQYe/oVtgx96
UHDClLnGF8cUfUC0tspOQ69SIji+aWqbuRCARJC1Vz8ksuN0ESSKFsymW+5k11VUiVPaxGDiQihi
DCW+4pW2dJfMHpRKCQssWN4yHBfuMpow3MRmW0bO4nYI2YfQXDGWomwdwbIqrs5dqkTgJbIuYZKT
GzjjGbqLb6Zoy0HnqtpjByIoNkohoP9aF87JwkSi4kjvzMcBHEWCOKXYyAxRR470OksW2MB4orM9
o6czuBw5rC0GDr8BqHxwxIOcNp2SORrfpRiJV1zllmfIF5rgUsZW8kU7rqBLDWEjc361youdrjGt
l4Jo1EpuHkLyA7KxpHaR0qujO01CGA99hTOUnerZE0NaNLhUU8JA8L09T+tV5C6z7tBSs2QIIIPS
QmQUEVUsHl0zA9hXelq1IOytoLMEQiZZoQQqTAJcQt6naSKwuDXrz7CkoLjs9AmaLo0GSix8bShI
zRqBwngQddsiHEIbQl/xdyRThQkHgpltoA==
EOF
`"

create_file "MDK-ARM/Project.uvprojx" "`cat << EOF
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
5IpwoSE3Z2LA
EOF
`"

create_file "project.jdebug" "`cat << EOF
QlpoOTFBWSZTWT2Fk5UAAeLfkNwQdGf/Hj/m34D/9d/6BAAACEACNUpEUEkiBoFNqemTVG2knijy
janqMmmmmI0NNHlAkhCIMhTxJmmkep6Go0ephpGQZNGjT9UY5gTE0GEyZMmRhME00yMTAEMBzAmJ
oMJkyZMjCYJppkYmAIYMXzaq7/omhMyW94TCBkyCiOM01r/J3d0FrjpmBye5UmdiCCMQtW7MvqvF
juao7x/k1mvYQuuqsrKGKkPfrZxDvOHYll/Utkyaul4xJRrMrBAtYwxG/i4dXv1379pcXUIJBUpa
szOTpMhsImBuhk/YWBKKCCcdR0URRswuLEEedhe9BHt7P5bgeDrHlMrIq43EN1Mvr6dM6tg8mN0k
83g6N/bBQx2HNG/hrwDUxzszcMTlBY4uFb1Fq69SMQeeGidKQPF60jKQabKd5acrw0kXOppSb0sf
f1jsO2Il0tNaiZ5jBx6KTNtpNBFQbtH0w4FrpXeYa81BeC3v4Wq/jNS3LBiIm3qqwzpa15lbLOuo
1bbCxpoOi08VcV5v70whEyAcOZOGx1nRPhQXQE1aXX4GY9k6IDyWHUqaaj16Iak0ZXyVHWLy0Oc5
zDMjtheVKFZlMLCQ5kDKYswxAnMSxST6g5pZU1BkFKZokBVYMjgmyfsoLWef29QONi3k6JZ6+Fd4
GbPlQG4YlTuF9YZ7eTDa6/Xe0CZ2ZZlJA3JjSMjIyGedXoM1jX5xwKjGTQcKpIKq3gyGYYYGGBgx
dE9D1KaDkpN0ZVBQIK0vKyQLFxY6Z1IpvM/zfALou7sLTnrSmBlil/xdyRThQkD2Fk5U
EOF
`"

create_file "inc/main.h" "`cat << EOF
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
5hI=
EOF
`"

create_file "inc/gpio.h" "`cat << EOF
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
kgzVsEuCbrXSyywAUMsv+LuSKcKEgAGjudg=
EOF
`"

create_file "inc/flash.h" "`cat << EOF
QlpoOTFBWSZTWblejP0AAoL/sPgSARB4d/+fP+3/JP/n3+4gAAQAAAhAAv2s2LYAzDJJoGo2oA1G
Ro2pppppkB6IZMQaDQ9I00GiZGkNJGmgaNNNNNNGmgABk9QAAAHDTTBDIaaZGTCAaaAMJo0yYAED
QSJE0CU9NopmRlNE8UwaGRhGppp6BM0PUGmmbpfZewsqBGqYfNhJsbSZQTZeIApn/Pu5zw50AcFG
JQHdi8sKDV6XzbGSBPQKJ40xg1H5EFPgqvasvdrNkNTB+NkCCTSTWIf+78dU9uSWXwvrJZ6QKQoF
KxJvZUhDNjSVu3zZE0AbaargYW17sSZOrifElASccrFiq+sS9Iv/PJFUg3a2MMHCaGYYWwxhynFl
dFpc1LU4+K1MuFyYqTKRq0DB2tuGaHt7yVYphWzRNcXUW6tNIwGVd9+qYeE34IbBuIhNkRB2O6Rq
1uEfI4eik5VV8PgU3HThtynIwwPMF6aaVU9FUzdZg/Zo2ZKWn7Zt0MaKHrYbKUg4GVLe1y4e3YwG
iPbEuCDpawmB+2BHEYQj9Y2oBrbnYEQdykD7bhRxQyWZXvCh7yQNYKdmNsFKIOzNcW89OcSBWN65
1vdF0DFGY6J3ChkyAKTtQDUAF/0xpnlu8Z8kj1r6Ctv6ifNNXq+BlGlvM32JsmoTxJ+j3KYxBJa1
azD/OTkopnQhGIlkyGK0WUopOuvQ+eZu4nlReB9taxIks+hCLy7iNrYVQT2MqLVXystWlBNpkJkC
2FKUlYuVqawC6z1FUzN++gW1t1ddfe4yLor5/NYUpLql14LrpkIHt1E1zH5FZOYjj4iO2xeyeScO
eSk0YDAdx4CqEHBL1Yy6lzvtv3/1YZMyFmG09GfkkUKjcNqEtFrXcrldZhpdmFIsw05SgwzeTXGf
A0paRjS7NzKl1VYG89nBd3d95nCJqrGXiod/tWVaDGKyWVasdMT+K4zuOVDYgRMBtK0ivcVv8Eea
lRERJZT6JMTW3yKc0N14U5+shKT5phekBWpkb7GYIV4AnFODjx3a6B5GBlSvqJglTMhOrWS0mgTt
4W7Yr1DCxR2qlTlBoyPiwjpGG4T/i7kinChIXK9GfoA=
EOF
`"

create_file "inc/rcc.h" "`cat << EOF
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
EOF
`"

# Create main.c file in src directory from embedded data using Here Document
main_c_file="src/main.c"
if [ ! -f "$main_c_file" ]; then
  op_counter=$(expr $op_counter + 1)
  cat << EOF > "$main_c_file"
#include "main.h"

int main(void) {

  for(init();;idle());

}

__STATIC_FORCEINLINE __SYSTICK_VOLATILE uint32_t * get_uptime(void) {
  extern __SYSTICK_VOLATILE uint32_t uptime;
  return &uptime;
}

__STATIC_FORCEINLINE void set_uptime(uint32_t t) {
  extern __SYSTICK_VOLATILE uint32_t uptime;
  uptime = t;
}

#if YES == SYSTICK_IRQ_EN

__STATIC_FORCEINLINE void process_systick_event(void) {}
void SysTick_Handler(void);
void SysTick_Handler(void) {

#else

__STATIC_FORCEINLINE void process_systick_event(void) {
  if (0 == (SysTick->CTRL & SysTick_CTRL_COUNTFLAG_Msk)) {
    return;
  }
  
#endif
  {
    static uint32_t cnt;
  
    if (++cnt == 1000) {
      cnt = 0;
      set_uptime(*get_uptime() + 1);
      GPIOA->ODR ^= GPIO_ODR_4;  
    } else if (cnt == 500) {
      GPIOA->ODR ^= GPIO_ODR_4;
    }
  }
}

__STATIC_FORCEINLINE void idle(void) {
  /* The body of the main program loop follows here */
  
  process_systick_event();
  
} /* idle() */

__SYSTICK_VOLATILE uint32_t uptime = 0;

EOF
  echo "File $main_c_file created."
fi

if [ $op_counter -eq 0 ]
then
  echo "Nothing to do."
else
  echo "$op_counter items created."
  make debug
fi

# Wait for any key to be pressed
press_any_key
